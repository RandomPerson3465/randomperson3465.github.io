const channel=channelSubmitName.value;let count=0,displayValue=0,minRate=0,maxRate=0,settings=!0,auditValue=0,paused=!1,submitted=!1,invalid=!0;function keybinds(a){a.target!==body||a.repeat||("h"===a.key&&(settings?(options.hidden=!0,settings=!1,logAction("Hid settings.")):(options.hidden=!1,settings=!0,logAction("Unhid settings."))),"1"===a.key&&(changeSubs(1),logAction("Added 1 sub.")),"2"===a.key&&(changeSubs(10),logAction("Added 10 subs.")),"3"===a.key&&(changeSubs(100),logAction("Added 100 subs.")),"4"===a.key&&(changeSubs(1e3),logAction("Added 1 000 subs.")),"5"===a.key&&(changeSubs(1e4),logAction("Added 10 000 subs.")),"6"===a.key&&(changeSubs(1e6),logAction("Added 1 000 000 subs.")),"7"===a.key&&(changeSubs(-1),logAction("Removed 1 sub")),"8"===a.key&&(changeSubs(-10),logAction("Removed 10 subs.")),"9"===a.key&&(changeSubs(-1e3),logAction("Removed 1 000 subs.")),"0"===a.key&&(changeSubs(-1e6),logAction("Removed 1 000 000 subs.")),"a"===a.key&&(changeSubs(auditValue),logAction("Audited "+auditValue+" subs.")),"r"===a.key&&(count=0,channelSubs.innerText=0,logAction("Reset sub counts.")),"p"===a.key&&(paused?(rate=parseInt(subsPerMinute.value,10),paused=!1,logAction("Resumed sub count")):(rate=0,paused=!0,logAction("Paused sub count."))),"g"===a.key&&(canvas.hidden?(canvas.hidden=!1,logAction("Unhid graph.")):(canvas.hidden=!0,logAction("Hid graph."))),"l"===a.key&&(labels?(labels=!1,logAction("Removed graph labels.")):(labels=!0,logAction("Unhid graph labels."))),"c"===a.key&&(values=[],logAction("Cleared graph.")))}function toggleNightMode(){night.checked?(document.body.style.backgroundColor="#34393f",log.style.color="#fff",channelName.style.color="#fff",nonNegLabel.style.color="#fff",channelSubs.style.color="#fff",info.style.color="#fff",nightLabel.style.color="#fff",container.style.color="#fff",unsubLabel.style.color="#fff",removeOldLabel.style.color="#fff"):(document.body.style.backgroundColor="#d0e4fe",log.style.color="#000",channelName.style.color="#000",nonNegLabel.style.color="#000",channelSubs.style.color="#000",info.style.color="#000",nightLabel.style.color="#000",container.style.color="#000",unsubLabel.style.color="#000",removeOldLabel.style.color="#000")}function submit(){submitted=!0;let b=channelSubmitName.value;var a=parseInt(countSubmit.value,10);if(auditValue=parseInt(subsAudit.value,10)%1e12,!b)return alert("Invalid channel name."),invalid=!0;if(""===countSubmit.value)return alert("Invalid sub count."),invalid=!0;if(a< -1e12||a>1e12)return alert("Count must be between \xb11 trillion."),invalid=!0;nonNegOnly.checked&&a<0&&(count=0),count=a,channelSubs.innerText=count,channelName.innerText=b,channelSubs2.innerText=Math.floor(parseGoal(count)-count),smallText.innerText="subscribers to "+parseGoal(count).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),parseInt(subsPerMinute.value,10)&&parseInt(subsPerMinute2.value,10)?(minRate=parseInt(subsPerMinute.value,10),maxRate=parseInt(subsPerMinute2.value,10)):(minRate=0,maxRate=0);let c="To prevent lag, maximum rate is \xb11 billion subscribers per second.";return minRate>maxRate?alert("Minimum rate cannot be larger than maximum rate."):"secs"===rateOption.value&&(minRate< -1e9||maxRate< -1e9||minRate>1e9||maxRate>1e9)||"mins"===rateOption.value&&(minRate< -6e10||maxRate< -6e10||minRate>6e10||maxRate>6e10)||"hrs"===rateOption.value&&(minRate< -36e11||maxRate< -36e11||minRate>36e11||maxRate>36e11)||"days"===rateOption.value&&(minRate< -864e11||maxRate< -864e11||minRate>864e11||maxRate>864e11)?(alert(c),invalid=!0):void(invalid=!1)}function changeSubs(a){(count+=a)<0&&nonNegOnly.checked&&(count=0),channelSubs.innerText=Math.floor(count),channelSubs2.innerText=Math.floor(parseGoal(count)-count),smallText.innerText=" subscribers to "+parseGoal(count).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function parseGoal(a){if((a+=1)<10)return 10;let b=Math.floor(Math.log10(a)),c=Math.ceil(a/10**b);return c*10**b}function logAction(a){log.innerText=a,setTimeout(()=>{log.innerText="P to pause subs, R to reset, H to hide settings, C to clear graph"},1800)}function updateSubs(){if(!channelSubmitName.value||isNaN(count)||isNaN(countSubmit.value)||paused||!minRate||!maxRate||invalid)return;let a=30;"secs"==rateOption.value&&(a=.5),"mins"==rateOption.value&&(a=30),"hrs"==rateOption.value&&(a=1800),"days"==rateOption.value&&(a=43200);let b=minRate+Math.round(Math.random()*(maxRate-minRate));if(unsub.checked){let c=Math.random();c>=.2?(displayValue=0>Math.floor(count+b/a)&&nonNegOnly.checked?0:Math.floor(count+b/a),countSubmit.value=displayValue,channelSubs.innerText=displayValue,count+=b/a,channelSubs2.innerText=nonNegOnly.checked&&count<0?10:parseGoal(displayValue)-displayValue,smallText.innerText=" subscribers to "+parseGoal(displayValue).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):(displayValue=(b/a<2?Math.floor(count-Math.sign(b)*(Math.random>.75?2:1)):Math.floor(count-(.4+Math.random())*b/a))<0&&nonNegOnly.checked?0:b/a<2?Math.floor(count-Math.sign(b)*(Math.random>.75?2:1)):Math.floor(count-(.4+Math.random())*b/a),countSubmit.value=displayValue,channelSubs.innerText=displayValue,count=b/a<2?count-(Math.random>.75?2:1):count-(.4+Math.random())*b/a<0&&nonNegOnly.checked?0:b/a<2?count-(Math.random>.75?2:1):count-(.4+Math.random()*b/a),channelSubs2.innerText=nonNegOnly.checked&&count<0?10:Math.floor(parseGoal(displayValue)-displayValue),smallText.innerText=" subscribers to "+parseGoal(displayValue).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))}else displayValue=0>Math.floor(count+b/a)&&nonNegOnly.checked?0:Math.floor(count+b/a),countSubmit.value=displayValue,channelSubs.innerText=displayValue,count+=b/a,channelSubs2.innerText=nonNegOnly.checked&&count<0?10:parseGoal(displayValue)-displayValue,smallText.innerText=" subscribers to "+parseGoal(displayValue).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}document.addEventListener("keypress",keybinds),setInterval(updateSubs,2e3)
