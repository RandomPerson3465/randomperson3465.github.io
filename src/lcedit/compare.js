function updateNames(e,t){document.querySelector("#channelName1").innerText=e,document.querySelector("#channelName2").innerText=t,document.querySelector("#ctitle1").innerText=e,document.querySelector("#ctitle2").innerText=t,document.querySelector("#c1tab").innerText=e,document.querySelector("#c2tab").innerText=t,document.querySelector(".title").innerText=`${e} vs. ${t}`,document.querySelector("#subs1").placeholder=`Subs for ${e}`,document.querySelector("#subs2").placeholder=`Subs for ${t}`}console.warn("Typing things you don't understand in here can cause unexpected glitches or issues.");const c1=localStorage.getItem("c1Name")||"Channel 1",c2=localStorage.getItem("c2Name")||"Channel 2",s=null===localStorage.getItem("showBoxes")||stringToBoolean(localStorage.getItem("showBoxes")),g=null===localStorage.getItem("showGraph")||stringToBoolean(localStorage.getItem("showGraph"));function stringToBoolean(e){return!!e&&"string"==typeof e&&"false"!==e.toLowerCase()&&"true"===e.toLowerCase()}function checkItem(e){if(localStorage.getItem(e)&&"undefined"!==localStorage.getItem(e)){if(!isNaN(Number(localStorage.getItem(e))))return Number(localStorage.getItem(e))}}function showToast(e){let t=document.querySelector("#toast");t.innerText=e,t.className="show",setTimeout(()=>{t.className=""},3e3)}window.onload=function(){if(openTab(event,"Settings_General"),document.getElementById("defaultTab").className+=" active",document.querySelector("#subGapTitle").innerText=localStorage.getItem("subGapTitle")||"Sub Gap",updateNames(c1,c2),!s)for(let e of document.querySelectorAll(".option"))e.hidden=!0;g||(document.querySelector("#chart").hidden=!0),document.addEventListener("keydown",K)};class UpdateManager{constructor(){this.options={showGraph:null===localStorage.getItem("showGraph")||stringToBoolean(localStorage.getItem("showGraph")),graphMoves:!1,abbreviated:stringToBoolean(localStorage.getItem("abbreviated"))||!1,colors:stringToBoolean(localStorage.getItem("colors"))||!1,updateInterval:Number(localStorage.getItem("updateInterval"))||2e3,subGapTitle:localStorage.getItem("subGapTitle")||"Sub Gap",keepSettings:stringToBoolean(localStorage.getItem("keepSettings"))||!1,keybinds:null===localStorage.getItem("keybinds")||stringToBoolean(localStorage.getItem("keybinds")),showBoxes:s,maxGraphPoints:Number(localStorage.getItem("maxGraphPoints"))||200,subGapMethod:Number(localStorage.getItem("subGapMethod"))||0},this.counters=[{name:localStorage.getItem("c1Name")||"Channel 1",exactCount:Number(localStorage.getItem("subs1"))||0,displayCount:0,oldDisplayCount:0,minRate:Number(localStorage.getItem("minRate1"))||0,maxRate:Number(localStorage.getItem("maxRate1"))||0,limits:{min:Number(localStorage.getItem("min1"))||0,max:checkItem("max1")},audit:{min:Number(localStorage.getItem("auditMin1"))||0,max:Number(localStorage.getItem("auditMax1"))||0}},{name:localStorage.getItem("c2Name")||"Channel 2",exactCount:Number(localStorage.getItem("subs2"))||0,displayCount:0,oldDisplayCount:0,minRate:Number(localStorage.getItem("minRate2"))||0,maxRate:Number(localStorage.getItem("maxRate2"))||0,limits:{min:Number(localStorage.getItem("min2"))||0,max:checkItem("max2")},audit:{min:Number(localStorage.getItem("auditMin2"))||0,max:Number(localStorage.getItem("auditMax2"))||0}}],this.update=function(e,t){if(isNaN(t=Number(t)))return;let n=this.counters[e];t>4503599627370496&&(t=4503599627370496),t<-4503599627370496&&(t=-4503599627370496),t>n.limits.max&&!isNaN(n.limits.max)&&(t=n.limits.max),t<n.limits.min&&!isNaN(n.limits.min)&&(t=n.limits.min),n.oldExactCount=n.exactCount,n.exactCount=t,this.options.abbreviated?n.displayCount=abb(t):n.displayCount=Math.round(t)},this.increment=function(e,t){this.update(e,this.counters[e].exactCount+t)},this.saveCount=function(e){return 1===e?this.update(0,document.querySelector("#subs1").value):2===e?this.update(1,document.querySelector("#subs2").value):void 0}}}chart=new Highcharts.chart({chart:{renderTo:"chart",type:"spline",zoomType:"x",backgroundColor:"transparent",plotBorderColor:"transparent"},title:{text:""},xAxis:{type:"datetime",gridLineColor:"#999",labels:{style:{color:"#999"}},lineColor:"#888",minorGridLineColor:"#999",tickColor:"#999",title:{style:{color:"#999"}}},yAxis:{title:{text:""},gridLineColor:"#999",lineColor:"#888",minorGridLineColor:"#888",tickColor:"#999"},series:[{name:"Subscriber difference",marker:{enabled:!1}}]});const u=new UpdateManager;function fixCounts(){u.increment(0,0),u.increment(1,0)}fixCounts(),(updateCounts=function(){u.increment(0,(u.counters[0].minRate+Math.random()*(u.counters[0].maxRate-u.counters[0].minRate))/(36e5/u.options.updateInterval)),u.increment(1,(u.counters[1].minRate+Math.random()*(u.counters[1].maxRate-u.counters[1].minRate))/(36e5/u.options.updateInterval)),!u.options.graphMoves&&u.options.showGraph&&(u.options.graphMoves=!0);let e=u.counters[0].displayCount;e>u.counters[0].oldDisplayCount&&u.options.colors&&(document.querySelector("#channelSubs1").style.color="#0f0",setTimeout(()=>{document.querySelector("#channelSubs1").style.color="#fff"},2e3)),e<u.counters[0].oldDisplayCount&&u.options.colors&&(document.querySelector("#channelSubs1").style.color="#f00",setTimeout(()=>{document.querySelector("#channelSubs1").style.color="#fff"},2e3));let t=u.counters[1].displayCount;if(t>u.counters[1].oldDisplayCount&&u.options.colors&&(document.querySelector("#channelSubs2").style.color="#0f0",setTimeout(()=>{document.querySelector("#channelSubs2").style.color="#fff"},2e3)),t<u.counters[1].oldDisplayCount&&u.options.colors&&(document.querySelector("#channelSubs2").style.color="#f00",setTimeout(()=>{document.querySelector("#channelSubs2").style.color="#fff"},2e3)),u.counters[0].oldDisplayCount=e,u.counters[1].oldDisplayCount=t,document.querySelector("#channelSubs1").innerText=e,document.querySelector("#channelSubs2").innerText=t,u.options.keepSettings&&(localStorage.setItem("subs1",u.counters[0].exactCount),localStorage.setItem("subs2",u.counters[1].exactCount)),subgap=1==u.options.subGapMethod?e-t:2==u.options.subGapMethod?t-e:Math.abs(e-t),document.querySelector("#subgap").innerText=subgap,u.options.graphMoves&&chart.series[0].addPoint([Date.now(),subgap]),chart.series[0].points.length>u.options.maxGraphPoints)for(;chart.series[0].points.length>u.options.maxGraphPoints;)chart.series[0].removePoint(chart.series[0].points[0])})();var iv=setInterval(updateCounts,u.options.updateInterval);function abb(e){if(1e3>Math.abs(e))return Math.round(e);var t=Math.sign(e),n=Math.floor(Math.log10(e=Math.abs(e)));return t*(Math.floor(e/10**(n-2))*10**(n-2))}const exampleChannels=["T-Series","PewDiePie","MrBeast","Dude Perfect","Cocomelon","WWE","SET India","5-Minute Crafts","Zee Music Company","Canal KondZilla","BLACKPINK","Marshmello","Big Hit Labels","Movieclips","Aaj Tak","Badabun","JuegaGerman","HolaSoyGerman.","Voc\xea Sabia?","elrubuisOMG","CarryMinati","Markiplier"];function toggleSettings(){if("hidden"===document.querySelector("#menu").style.visibility)for(document.querySelector(".settingsButton").classList.add("iconAnimated"),document.querySelector(".background").style.display="block",document.querySelector("#menu").style.visibility="visible",document.querySelector("#abbreviated").checked=u.options.abbreviated,document.querySelector("#toggleGraph").checked=!document.querySelector("#chart").hidden,document.querySelector("#toggleColors").checked=u.options.colors,document.querySelector("#toggleKeybinds").checked=u.options.keybinds,document.querySelector("#keepCounts").checked=u.options.keepSettings,document.querySelector("#showCountBoxes").checked=u.options.showBoxes,document.querySelector("#setSubGapTitle").value=u.options.subGapTitle,document.querySelector("#maxGraphPoints").value=u.options.maxGraphPoints,document.querySelector("#setSubGap").value=u.options.subGapMethod.toString(),document.querySelector("#setUpdateInterval").value=(u.options.updateInterval/1e3).toString(),i=0;i<2;i++)document.querySelector(`#setChannelName${i+1}`).value=u.counters[i].name,document.querySelector(`#minaudit${i+1}`).value=Math.min(u.counters[i].audit.min,u.counters[i].audit.max),document.querySelector(`#maxaudit${i+1}`).value=Math.max(u.counters[i].audit.min,u.counters[i].audit.max),document.querySelector(`#mincount${i+1}`).value=void 0===u.counters[i].limits.min?"":u.counters[i].limits.min,document.querySelector(`#maxcount${i+1}`).value=void 0===u.counters[i].limits.max?"":u.counters[i].limits.max,document.querySelector(`#minSubs${i+1}`).value=u.counters[i].minRate,document.querySelector(`#maxSubs${i+1}`).value=u.counters[i].maxRate,document.querySelector(`#rate${i+1}`).value=1,document.querySelector(`#unit${i+1}`).value="3600";else document.querySelector(".settingsButton").classList.remove("iconAnimated"),document.querySelector(".background").style.display="none",document.querySelector("#menu").style.visibility="hidden"}function checkValue(e){return!!(!document.querySelector(e).value||isNaN(Number(document.querySelector(e).value)))}function getNum(e){return Number(document.querySelector(e).value)}function applyChanges(){if(u.options.colors=document.querySelector("#toggleColors").checked,u.options.abbreviated=document.querySelector("#abbreviated").checked,u.options.keepSettings=document.querySelector("#keepCounts").checked,u.options.keybinds=document.querySelector("#toggleKeybinds").checked,u.options.showBoxes=document.querySelector("#showCountBoxes").checked,u.options.showGraph=document.querySelector("#toggleGraph").checked,u.options.graphMoves=u.options.showGraph,u.options.subGapTitle=document.querySelector("#setSubGapTitle").value,u.options.subGapMethod=Number(document.querySelector("#setSubGap").value),u.counters[0].name=document.querySelector("#setChannelName1").value||"Channel 1",u.counters[1].name=document.querySelector("#setChannelName2").value||"Channel 2",document.querySelector("#chart").hidden=!u.options.showGraph,!u.options.showGraph)for(let e of chart.series[0].points)chart.series[0].removePoint(e);for(i=0;i<2;i++){if(checkValue(`#minaudit${i+1}`)?checkValue(`#maxaudit${i+1}`)?(u.counters[i].audit.min=0,u.counters[i].audit.max=0):(u.counters[i].audit.min=getNum(`#maxaudit${i+1}`),u.counters[i].audit.max=u.counters[i].audit.min):checkValue(`#maxaudit${i+1}`)?(u.counters[i].audit.min=getNum(`#minaudit${i+1}`),u.counters[i].audit.max=u.counters[i].audit.min):(u.counters[i].audit.min=getNum(`#minaudit${i+1}`),u.counters[i].audit.max=getNum(`#maxaudit${i+1}`)),""===document.querySelector(`#rate${i+1}`).value&&(document.querySelector(`#rate${i+1}`).value="1"),!getNum("#maxGraphPoints")||5>getNum("#maxGraphPoints"))return showToast("Please check for invalid settings"),document.querySelector("#maxGraphPointsWarning").classList.add("active");if(u.options.maxGraphPoints=Math.round(getNum("#maxGraphPoints")),document.querySelector("#maxGraphPointsWarning").classList.remove("active"),0>=getNum(`#rate${i+1}`))return showToast("Please check for invalid settings"),document.querySelector(`#setRateWarning${i+1}`).classList.add("active");if(document.querySelector(`#setRateWarning${i+1}`).classList.remove("active"),checkValue(`#minSubs${i+1}`)?checkValue(`#maxSubs${i+1}`)?(u.counters[i].minRate=0,u.counters[i].maxRate=0):(u.counters[i].minRate=3600*getNum(`#maxSubs${i+1}`)/(getNum(`#rate${i+1}`)*getNum(`#unit${i+1}`)),u.counters[i].maxRate=u.counters[i].minRate):checkValue(`#maxSubs${i+1}`)?(u.counters[i].minRate=3600*getNum(`#minSubs${i+1}`)/(getNum(`#rate${i+1}`)*getNum(`#unit${i+1}`)),u.counters[i].maxRate=u.counters[i].minRate):(u.counters[i].minRate=3600*getNum(`#minSubs${i+1}`)/(getNum(`#rate${i+1}`)*getNum(`#unit${i+1}`)),u.counters[i].maxRate=3600*getNum(`#maxSubs${i+1}`)/(getNum(`#rate${i+1}`)*getNum(`#unit${i+1}`))),checkValue(`#mincount${i+1}`)?u.counters[i].limits.min=void 0:u.counters[i].limits.min=getNum(`#mincount${i+1}`),checkValue(`#maxcount${i+1}`))u.counters[i].limits.max=void 0;else{if(void 0!==u.counters[i].limits.min&&getNum(`#maxcount${i+1}`)<u.counters[i].limits.min)return showToast("Please check for invalid settings"),document.querySelector(`#maxSubsWarning${i+1}`).classList.add("active");document.querySelector(`#maxSubsWarning${i+1}`).classList.remove("active"),u.counters[i].limits.max=getNum(`#maxcount${i+1}`)}}let t=parseFloat(document.querySelector("#setUpdateInterval").value,10);if(isNaN(t)||t<.5||t>2147483.647)return showToast("Please check for invalid settings"),document.querySelector("#setUpdateIntervalWarning").classList.add("active");if(1e3*t!==u.options.updateInterval&&(u.options.updateInterval=1e3*t,clearInterval(iv),iv=setInterval(updateCounts,u.options.updateInterval)),document.querySelector("#setUpdateIntervalWarning").classList.remove("active"),u.options.showBoxes)for(let n of document.querySelectorAll(".option"))n.hidden=!1;else for(let o of document.querySelectorAll(".option"))o.hidden=!0;document.querySelector("#subGapTitle").innerText=u.options.subGapTitle;let r=u.counters[0].name,a=u.counters[1].name;if(updateNames(r,a),fixCounts(),u.options.keepSettings){for(let l of Object.keys(u.options))localStorage.setItem(l,u.options[l]);for(localStorage.setItem("c1Name",r),localStorage.setItem("c2Name",a),i=0;i<2;i++)localStorage.setItem(`auditMin${i+1}`,Math.min(u.counters[i].audit.min,u.counters[i].audit.max)),localStorage.setItem(`auditMax${i+1}`,Math.max(u.counters[i].audit.min,u.counters[i].audit.max)),localStorage.setItem(`min${i+1}`,u.counters[i].limits.min),localStorage.setItem(`max${i+1}`,u.counters[i].limits.max),localStorage.setItem(`minRate${i+1}`,u.counters[i].minRate),localStorage.setItem(`maxRate${i+1}`,u.counters[i].maxRate)}else localStorage.clear();toggleSettings()}function cycleChannels(){for(let e of document.querySelectorAll(".channelInput")){let t=exampleChannels[Math.floor(Math.random()*exampleChannels.length)];"BLACKPINK"===t&&.05>Math.random()&&(t="SIMPPINK"),"Big Hit Labels"===t&&.05>Math.random()&&(t="Big Shit Labels"),e.placeholder=`e.g. ${t}`}}cycleChannels(),setInterval(cycleChannels,2500);const keybinds={1(){u.increment(0,1)},2(){u.increment(0,10)},3(){u.increment(0,100)},4(){u.increment(0,1e3)},5(){u.increment(0,1e6)},6(){u.increment(0,-1)},7(){u.increment(0,-10)},8(){u.increment(0,-100)},9(){u.increment(0,-1e3)},0(){u.increment(0,-1e6)},q(){u.increment(1,1)},w(){u.increment(1,10)},e(){u.increment(1,100)},r(){u.increment(1,1e3)},t(){u.increment(1,1e6)},y(){u.increment(1,-1)},u(){u.increment(1,-10)},i(){u.increment(1,-100)},o(){u.increment(1,-1e3)},p(){u.increment(1,-1e6)},a(){let e=u.counters[0].audit.min+Math.random()*(u.counters[0].audit.max-u.counters[0].audit.min);u.increment(0,e)},h(){for(let e of(u.options.showBoxes?(u.options.showBoxes=!1,showToast("Hid counter input boxes.")):(u.options.showBoxes=!0,showToast("Unhid counter input boxes.")),document.querySelectorAll(".option")))e.hidden=!u.options.showBoxes},l(){let e=u.counters[1].audit.min+Math.random()*(u.counters[1].audit.max-u.counters[1].audit.min);u.increment(1,e)},c(){for(let e of chart.series[0].points)chart.series[0].removePoint(e);showToast("Cleared graph.")}};function K(e){!e.repeat&&e.target===document.querySelector("body")&&u.options.keybinds&&Object.keys(keybinds).includes(e.key)&&keybinds[e.key]()}function openTab(e,t){var n,o,r;for(n=0,o=document.getElementsByClassName("tab-content");n<o.length;n++)o[n].style.display="none";for(n=0,r=document.getElementsByClassName("tab-link");n<r.length;n++)r[n].className=r[n].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}
